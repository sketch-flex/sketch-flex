<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
	<link rel="stylesheet" type="text/css" href="/css/uploadLayout.css">
	<meta charset="UTF-8" />
	<meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="android-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="./manifest/manifest.webmanifest">
    <link rel="apple-touch-icon" sizes="128x128" href="/images/sketchflex.PNG">
    <link rel="icon" sizes="128x128" href="/images/sketchflex.PNG">
	<title> upload </title>
</head>
<body>
	<div id = "container">
		<div class="navbar">
			<div id="beginNav">
				<div id="pageName">SketchFlex</div>
				<a href="javascript:void(0);" id="hamburger">
					<i class="fa fa-bars"></i>
				</a>
			</div>
			<nav id="endNav"></nav>	
		</div>
		<div th:if="${message}">
			<h2 th:text="${message}"/>
		</div>
		<div id = "uploadChoices">
			<form method="POST" enctype="multipart/form-data" action="/upload">
				<table>
					<tr><td>File to upload:</td><td><input id= "file" type="file" name="file" /></td></tr>
				</table>
				<div id = "inputFields">
					<input id= "name" type="text" name="name" placeholder="Enter Sketch Name" defaultvalue= ""/>
					<select id="deckDropDown" type= "text" name="sketchDeckName">
                    	<option disabled selected hidden>Choose SketchDeck</option>
                    	<option th:each = "sketchdeck: ${sketchDecks}" th:text = "${sketchdeck.name}"></option>
                		<option>New SketchDeck...</option>
                	</select><input id= "deckTextBox" type="text" style="display: none;" placeholder= "Enter New SketchDeck"/>
					<tr><td></td><td><input id= "upload" type="submit" value="Upload" /></td></tr>
				</div>
			</form>
		</div>
		<div>
			<ul>
				<li th:each="file : ${files}">
					<a th:href="${file}" th:text="${file}" />
				</li>
			</ul>
			<ul>
				<li th:each="sketch : ${sketches}">
					<a th:text = "${sketch.name}" />
				</li>
			</ul>
		</div>
		<footer>
            <p id="footerText">Copyright 2019 - We Can Code IT - Spring Cohort</p>     
        </footer>  
	</div>
	<script type="text/javascript" src="./js/dropdownDecks.js"></script>
	<script type="text/javascript" src="./js/uploadButton.js"></script>
	<script type="text/javascript" th:src="@{/js/stickyNav.js}"></script>
		<script>
      if('serviceWorker' in navigator) {
           navigator.serviceWorker
           .register('/sw.js')
           .then(function() { console.log("Service Worker Registered"); });
      }
    </script>
</body>
</html>